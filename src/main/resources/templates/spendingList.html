<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Your spending list</title>

    <link rel="stylesheet" href="/css/main.css" type="text/css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
</head>
<body>

<div class="sidebar">
    <ul>
        <li><a href="/spending/today">Spending</a></li>
    </ul>
</div>

<div style="margin-left: 215px">
    <h3 th:text="${monthName + ' ' + day.getDayOfMonth() + ', ' + day.getYear()}" style="margin: auto; padding: 10px;"></h3>
</div>

<div class="date-navigation">
    <div class="month-day" th:each="monthDay: ${monthDays}">
        <a class="month-day__number-href" th:href="@{/spending/2024-{month}-{day}(month=${monthDay.getMonthValue()}, day=${monthDay.getDayOfMonth()})}">
            <h2 class="month-day__number" th:text="${monthDay.getDayOfMonth()}"></h2>
        </a>
    </div>
</div>

<div class="spending-total">
    <h2 th:text="${'Total: ' + spending_total + ' грн.'}"></h2>
</div>

<div class="spending-list" th:if="${!spendingList.isEmpty()}">
    <div class="spending" th:each="spending, iterStat: ${spendingList}">

        <h2 class="spending__number" th:text="${iterStat.index + 1}"></h2>

        <h2 class="spending__name" th:text="${spending.getName()}" th:title="${spending.getName()}"></h2>

        <h2 class="spending__amount" th:text="${spending.getAmountToDisplay()}" th:title="${spending.getAmountToDisplay()}"></h2>

        <form class="delete-spending-form" th:method="POST" th:action="@{/spending/{id}(id=${spending.getId()})}" th:object="${spending}">
            <button class="delete-spending button" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x-square" viewBox="0 0 16 16">
                    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                </svg>
            </button>
        </form>
    </div>
</div>
<div th:if="${spendingList.isEmpty()}" style="margin: 20px 10px 20px 220px;">
    <h1 style="margin: auto;" th:text="${'You didn''t have any spending on ' + monthName + ' ' + day.getDayOfMonth()}"></h1>
</div>

<div class="new-spending spending" th:if="${day.isEqual(today)}">

    <form class="new-spending-form" th:method="POST" th:action="@{/spending/today}" th:object="${newSpending}">
        <label for="new-spending-name"></label>
        <input class="new-spending__name" type="text" th:field="*{name}" id="new-spending-name" placeholder="name">

        <label for="new-spending-amount"></label>
        <input class="new-spending__amount" type="text" th:field="*{amount}" id="new-spending-amount" placeholder="amount">

        <select class="new-spending__currency" th:field="*{currency}" id="new-spending-currency">
            <option value="грн.">грн.</option>
        </select>

        <button class="add-spending button" type="submit">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
                <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
            </svg>
        </button>
    </form>

</div>

</body>
</html>